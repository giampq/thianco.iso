{"version":3,"sources":["meteor://💻app/lib/collections/branchs.js","meteor://💻app/lib/collections/categorys.js","meteor://💻app/lib/collections/client.document.in.queues.js","meteor://💻app/lib/collections/document.attachment.js","meteor://💻app/lib/collections/document.remind.js","meteor://💻app/lib/collections/documents.in.remind.js","meteor://💻app/lib/collections/documents.js","meteor://💻app/lib/collections/favorites.js","meteor://💻app/lib/collections/iddoc.in.fav.js","meteor://💻app/lib/collections/items.js","meteor://💻app/lib/collections/queue.js","meteor://💻app/lib/collections/reminds.js","meteor://💻app/lib/collections/rssearchs.js","meteor://💻app/lib/collections/terms.js","meteor://💻app/lib/collections/uploads.js","meteor://💻app/lib/config/config.js","meteor://💻app/lib/search-api/api-find-document.js","meteor://💻app/lib/constants.js","meteor://💻app/lib/router.js","meteor://💻app/server/compress-and-download/compress.and.download.js","meteor://💻app/server/config-upload-server/init.js","meteor://💻app/server/database-observe/document.js","meteor://💻app/server/database-observe/uploads.js","meteor://💻app/server/init-user/init.js","meteor://💻app/server/publications/branchs.js","meteor://💻app/server/publications/categorys.js","meteor://💻app/server/publications/document-attachment.js","meteor://💻app/server/publications/documentremind.js","meteor://💻app/server/publications/documents.in.remind.js","meteor://💻app/server/publications/documents.js","meteor://💻app/server/publications/favorites.js","meteor://💻app/server/publications/iddoc.in.fav.js","meteor://💻app/server/publications/items.js","meteor://💻app/server/publications/queues.js","meteor://💻app/server/publications/reminds.js","meteor://💻app/server/publications/rssearchs.js","meteor://💻app/server/publications/terms.js","meteor://💻app/server/publications/uploads.js","meteor://💻app/server/remind-service/remind.js","meteor://💻app/server/main.js","meteor://💻app/imports/configs.js","meteor://💻app/imports/optimize-rs-search.js","meteor://💻app/imports/optimize-when-startup.js","meteor://💻app/imports/server-remind-func.js","meteor://💻app/imports/string-helpers.js"],"names":["Meteor","module","watch","require","v","Branchs","Mongo","Collection","isServer","methods","addNewBranch","data","check","userId","String","id_record","Match","Maybe","name","active","Boolean","user","branch","_","extend","id_owner","_id","date_create","Date","getTime","insert","updateBranch","date_update","update","$set","removeBranch","ids","Documents","findOne","$elemMatch","find","count","remove","Categorys","addNewCategory","category","updateCategory","removeCategory","document","DocumentInQueues","Attachments","addNewAttachment","DocumentRemind","DocumentsInRemind","StrFunc","deleteFolderRecursive","path","fs","existsSync","readdirSync","forEach","file","index","curPath","lstatSync","isDirectory","unlinkSync","rmdirSync","e","addNewDocument","Optional","OneOf","undefined","Array","document_number","term","note","startStamp","Number","dueStamp","page_uuid","every","unit","firstAttachment","name_search","strWithoutSpec","document_number_search","idDocument","folderUpload","process","env","PWD","base","mkdirp","Fiber","err","console","log","folderUploadReplace","Uploads","fetch","map","el","idx","pathFileUpload","newPathFile","new_name","copy","then","attachment","oldImageId","pathReactive","call","catch","error","run","updateDocument","idDoc","setDefaultDocumentWithIdDoc","pageUUID","doc","isDefault","multi","setDefaultDocumentPageUUID","uuid_page","deleteDocument","Favorites","addNewFavorite","favorite","updateFavorite","removeFavorite","IdDocumentInFavorite","addIdDocToFav","idFav","fav","dataGet","$and","$eq","idDocInFav","success","message","mergeFavToQueue","countAdd","val","inQueue","Queues","id_doc","queue","clearFav","removeDocInFav","Items","Reminds","addNewRemind","interval","remind","updateRemind","removeRemind","RsSearchs","Terms","addNewTerm","updateTerm","removeTerm","allow","fields","modifier","Accounts","config","forbidClientAccountCreation","StrHelpers","Configs","RsSearchOpt","filter","branchs","categorys","terms","uuid_page_search","nameRegex","nameWithoutSpec","buildRegExp","dcNumbRegex","docnumWithoutSpec","queryFilter","length","$in","testResult","fucOptimizeRsSearch","firstDocFullPath","getFirstAttachmentOfDocument","fullPath","absoluteUrl","defaultOptions","rootUrl","WEB_KEY","MM_KEY","days","weeks","months","quarters","years","requireLogin","loggingIn","render","loadingTemplate","next","Router","configure","layoutTemplate","notFoundTemplate","waitOn","subscribe","route","onBeforeAction","params","_idFav","_uuid","uuid","action","cloneUUID","paramUUID","trim","redirect","item","uploads","_idDoc","compressAndDownload","Promise","resolve","callAPICompressQueues","er","arIds","split","zip","zipName","moment","format","zipPath","zipFullPath","countFileAdded","i","id","firstDoc","getFirstAttachmentOfDocumentToCompress","firstDocName","toString","readFileSync","generate","base64","compression","writeFileSync","urlDownload","StringHelpers","startup","UploadServer","init","tmpDir","uploadDir","checkCreateDirectories","getDirectory","fileInfo","formData","directoryName","getFileName","prefix","finished","key_unique","timestamp","valueOf","time","newname","replace","ext","pop","mimeTypes","upload","Error","delete","fulPath","ServiceRemind","observeChanges","added","saveRemind","changed","removed","email","username","password","accountWithEmail","findUserByEmail","Package","sha","SHA256","createUser","publish","allRemind","allIdinFav","userid","idxLoop","id_queue","sixHours","deleteOldZip","setInterval","OptimizeStartup","os","md5","hostName","valid","hostname","deleteOldUpload","export","baseUrl","ROOT_URL","nowTime","yesterday","clone","add","$lt","sub1DayFromNow","oldFileUpload","listNeedRemind","add1DayFromNow","add3DayFromNow","allDocumentRemindWithoutBefore","$gt","indexOf","push","allDocumentRemindWithBefore","dueDay","mmdueDay","mmBefore","arInsert","formatTime","mmNow","readdir","files","f","mmFormat","timeInName","mmDT","diff","removeSpecCharVi","str","removeDiacritics","defaultDiacriticsRemovalMap","letters","searchText","words","exps","word","fullExp","join","RegExp"],"mappings":"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","file":"/app.js","sourcesContent":["import {Meteor} from 'meteor/meteor'\n\nBranchs = new Mongo.Collection('branchs');\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        addNewBranch: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: Match.Maybe(String),\n                name: String,\n                active: Boolean\n            });\n\n            let user = Meteor.user();\n            let branch = _.extend(data, {\n                id_owner: user._id,\n                date_create: new Date().getTime(),\n            });\n            delete branch.id_record;\n            return await Branchs.insert(branch);\n        },\n        updateBranch: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: String,\n                name: String,\n                active: Boolean\n            });\n            let _id = data.id_record;\n            let branch = _.extend(data, {\n                date_update: new Date().getTime(),\n            });\n            delete branch.id_record;\n            return await  Branchs.update(_id, {\n                $set: branch,\n            });\n\n        },\n        removeBranch: async function (_id) {\n            check(Meteor.userId(), String);\n            check(_id, String);\n            /* check term using other document */\n            let ids = [_id];\n            let branch = await Documents.findOne({\n                branch: {\n                    $elemMatch: {\n                        \"$in\": ids\n                    }\n                }\n            });\n\n            if(branch){\n                return null;\n            }\n\n            if (Branchs.find(_id).count()) {\n                return await Branchs.remove({_id: _id});\n            } else {\n                return null;\n            }\n        }\n    });\n}\n\n\n// Branchs.find().observeChanges({\n//     added: function(id, object) {\n//     },\n//     changed: function (id, object) {\n//     },\n//     removed: function (id, object) {\n//     }\n// });\n","import {Meteor} from 'meteor/meteor'\n\nCategorys = new Mongo.Collection('categorys');\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        addNewCategory: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: Match.Maybe(String),\n                name: String,\n                active: Boolean\n            });\n\n            let user = Meteor.user();\n            let category = _.extend(data, {\n                id_owner: user._id,\n                date_create: new Date().getTime(),\n            });\n            delete category.id_record;\n            return await Categorys.insert(category);\n        },\n        updateCategory: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: String,\n                name: String,\n                active: Boolean\n            });\n            let _id = data.id_record;\n            let category = _.extend(data, {\n                date_update: new Date().getTime(),\n            });\n            delete category.id_record;\n            return await  Categorys.update(_id, {\n                $set: category,\n            });\n\n        },\n        removeCategory: async function (_id) {\n            check(Meteor.userId(), String);\n            check(_id, String);\n            //check document using category\n            let document = await Documents.findOne({category: _id});\n            if(document){\n                return null;\n            }\n            if (Categorys.find(_id).count()) {\n                return await Categorys.remove({_id: _id});\n            } else {\n                return null;\n            }\n        }\n    });\n}\n\n\n\n","DocumentInQueues = new Mongo.Collection('document-in-queues');\n","import {Meteor} from 'meteor/meteor'\n\nAttachments = new Mongo.Collection('attachments');\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        addNewAttachment: async function (document) {\n            return await Attachments.insert(document);\n        }\n    });\n}\n\n","DocumentRemind = new Mongo.Collection('document-remind');\n","DocumentsInRemind = new Mongo.Collection('documents-in-remind');\n","import {Meteor} from 'meteor/meteor'\nDocuments = new Mongo.Collection('documents');\nlet StrFunc = require('../../imports/string-helpers');\n\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        addNewDocument: async function (document) {\n            check(Meteor.userId(), String);\n            check(document, {\n                branch: Match.Optional(Match.OneOf(undefined, null, Array)),\n                category: Match.Optional(Match.OneOf(undefined, null, String)),\n                name: String,\n                document_number: Match.Optional(Match.OneOf(undefined, null, String)),\n                term: Match.Optional(Match.OneOf(undefined, null, Array)),\n                note: Match.Optional(Match.OneOf(undefined, null, String)),\n                startStamp: Match.Optional(Match.OneOf(undefined, null, Number)),\n                dueStamp: Match.Optional(Match.OneOf(undefined, null, Number)),\n                page_uuid: String,\n                every: Number,\n                unit: String,\n                firstAttachment: Match.Optional(Match.OneOf(undefined, null, String)),\n            });\n            user = Meteor.user();\n            document = _.extend(document, {\n                id_owner: user._id,\n                date_create: new Date().getTime(),\n                name_search: StrFunc.strWithoutSpec(document.name),\n                document_number_search: StrFunc.strWithoutSpec(document.document_number)\n            });\n            let page_uuid = document.page_uuid;\n            // create new document without attachments\n            let idDocument = await Documents.insert(document);\n            let folderUpload = process.env.PWD + '/.uploads/';\n            let base = process.env.PWD + '/.uploads/' + idDocument;\n            var mkdirp = require('mkdirp');\n            var Fiber = require('fibers');\n            var fs = require('fs-extra')\n            mkdirp(base, function (err) {\n                if (err) {\n                    console.log(err);\n                } else {\n                    console.log('create new folder: ' + base);\n                    //move attachment from tmp to documents-folder\n                    Fiber(function () {\n                        let folderUploadReplace = '/upload/';\n                        Uploads.find({'uuid_page': page_uuid}).fetch().map((el, idx) => {\n                            let pathFileUpload = (folderUpload + el.path);\n                            let newPathFile = base + '/' + el.new_name;\n                            fs.copy(pathFileUpload, newPathFile)\n                                .then(() => {\n                                    // save new file to attachment\n                                    let attachment = el;\n                                    let oldImageId = attachment._id;\n                                    delete attachment._id;\n                                    attachment.pathReactive = idDocument + '/' + el.path;\n                                    attachment.idDocument = idDocument;\n                                    Meteor.call('addNewAttachment', attachment);\n                                    Meteor.call('deleteFile', {_id: oldImageId});\n                                }).catch(err => console.error(err))\n                        });\n                    }).run();\n                }\n                // path exists unless there was an error\n            });\n        },\n    });\n\n    Meteor.methods({\n        updateDocument: async function (document) {\n            check(Meteor.userId(), String);\n            check(document, {\n                _id: String,\n                branch: Match.Optional(Match.OneOf(undefined, null, Array)),\n                category: Match.Optional(Match.OneOf(undefined, null, String)),\n                name: String,\n                document_number: Match.Optional(Match.OneOf(undefined, null, String)),\n                term: Match.Optional(Match.OneOf(undefined, null, Array)),\n                note: Match.Optional(Match.OneOf(undefined, null, String)),\n                startStamp: Match.Optional(Match.OneOf(undefined, null, Number)),\n                dueStamp: Match.Optional(Match.OneOf(undefined, null, Number)),\n                page_uuid: String,\n                every: Number,\n                unit: String,\n                firstAttachment: Match.Optional(Match.OneOf(undefined, null, String)),\n            });\n            user = Meteor.user();\n            document.name_search = StrFunc.strWithoutSpec(document.name);\n            document.document_number_search = StrFunc.strWithoutSpec(document.document_number);\n            document = _.extend(document, {\n                date_update: new Date().getTime(),\n            });\n            let idDoc = document._id;\n            delete document._id;\n            return await  Documents.update(idDoc, {\n                $set: document,\n            });\n        },\n    });\n\n\n    Meteor.methods({\n        setDefaultDocumentWithIdDoc: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                _id: String,\n                pageUUID: String,\n                idDocument: String,\n            });\n            // _id is attachment id\n            let idDoc = data.idDocument;\n            let doc = Documents.findOne(idDoc);\n            if(doc){\n                Attachments.update({idDocument: idDoc}, {\n                    $set: {\n                        isDefault: false,\n                    }\n                }, {multi: true});\n                Attachments.update(data._id, {\n                    $set: {\n                        isDefault: true,\n                    }\n                })\n            }\n        }\n    });\n\n\n    Meteor.methods({\n        setDefaultDocumentPageUUID: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                _id: String,\n                pageUUID: String,\n            });\n            Uploads.update({uuid_page: data.pageUUID}, {\n                $set: {\n                    isDefault: false,\n                }\n            }, {multi: true});\n            Uploads.update(data._id, {\n                $set: {\n                    isDefault: true,\n                }\n            })\n        }\n    })\n\n    Meteor.methods({\n        deleteDocument: function (idDoc) {\n            check(Meteor.userId(), String);\n            check(idDoc, String);\n            try{\n                var Fiber = require('fibers');\n                var fs = require('fs-extra');\n                Fiber(function () {\n                    let doc = Documents.findOne(idDoc);\n                    if(!doc){\n                        return false;\n                    }\n                    Attachments.remove({idDocument: idDoc}, {multi: true});\n                    Documents.remove(idDoc);\n                    var fs = require('fs-extra');\n                    let folderUpload = process.env.PWD + '/.uploads/' + idDoc;\n                    console.log('delete: ' + folderUpload);\n                    deleteFolderRecursive(folderUpload, fs);\n                    return true;\n                }).run();\n            }catch (e){\n                return false;\n            }\n        }\n    });\n\n    function deleteFolderRecursive(path, fs) {\n        try{\n            if (fs.existsSync(path)) {\n                fs.readdirSync(path).forEach(function (file, index) {\n                    var curPath = path + \"/\" + file;\n                    if (fs.lstatSync(curPath).isDirectory()) { // recurse\n                        deleteFolderRecursive(curPath, fs);\n                    } else { // delete file\n                        fs.unlinkSync(curPath);\n                    }\n                });\n                fs.rmdirSync(path);\n            }\n        }catch (e){}\n    };\n}\n\n\n\n","Favorites = new Mongo.Collection('favorites');\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        addNewFavorite: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: Match.Maybe(String),\n                name: String,\n                active: Boolean,\n            });\n\n            let user = Meteor.user();\n            let favorite = _.extend(data, {\n                id_owner: user._id,\n                date_create: new Date().getTime(),\n            });\n            delete favorite.id_record;\n            return await Favorites.insert(favorite);\n        },\n        updateFavorite: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: String,\n                name: String,\n                active: Boolean,\n            });\n            let _id = data.id_record;\n            let favorite = _.extend(data, {\n                date_update: new Date().getTime(),\n            });\n            delete favorite.id_record;\n            return await  Favorites.update(_id, {\n                $set: favorite,\n            });\n\n        },\n        removeFavorite: async function (_id) {\n            check(Meteor.userId(), String);\n            check(_id, String);\n            return await Favorites.remove({_id: _id});\n        }\n    });\n}\n","IdDocumentInFavorite = new Mongo.Collection('id-doc-in-fav');\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        addIdDocToFav: function (data) {\n            \"use strict\";\n            check(Meteor.userId(), String);\n            check(data, {\n                idDoc: String,\n                idFav: String,\n            });\n\n            let fav = Favorites.findOne(data.idFav);\n            let doc = Documents.findOne(data.idDoc);\n            if (fav && doc) {\n                let dataGet = IdDocumentInFavorite.findOne({\n                    $and: [\n                        {\n                            idDoc: {$eq: data.idDoc}\n                        },\n                        {\n                            idFav: {$eq: data.idFav}\n                        }\n                    ]\n                });\n\n                if (!dataGet) {\n                    let user = Meteor.user();\n                    let idDocInFav = _.extend(data, {\n                        id_owner: user._id,\n                        date_create: new Date().getTime(),\n                    });\n                    IdDocumentInFavorite.insert(idDocInFav);\n                    return {\n                        success: true,\n                        message: 'add \"' + doc.name + '\" to favorite \"' + fav.name + '\" success'\n                    }\n                } else {\n                    return {\n                        success: false,\n                        message: '\"' + doc.name + '\"' + '  already exists in \"' + fav.name + '\"',\n                    }\n                }\n            } else {\n                return {\n                    success: false,\n                    message: \"Data invalid\",\n                }\n            }\n        }\n    });\n\n\n    Meteor.methods({\n        mergeFavToQueue: function (idFav) {\n            \"use strict\";\n            check(Meteor.userId(), String);\n            check(idFav, String);\n            let fav = Favorites.findOne(idFav);\n            if (fav) {\n                let idDocInFav = IdDocumentInFavorite.find({\n                    id_owner: Meteor.userId(),\n                    idFav: idFav\n                });\n                if (idDocInFav.count()) {\n                    let countAdd = 0;\n                    idDocInFav.fetch().map((val, idx) => {\n                        let inQueue = Queues.findOne({\n                            id_doc: val.idDoc,\n                            id_owner: Meteor.userId()\n                        });\n                        if (!inQueue) {\n                            let queue = {\n                                id_owner: Meteor.userId(),\n                                id_doc: val.idDoc,\n                                date_create: new Date().getTime(),\n                            }\n                            Queues.insert(queue);\n                            countAdd++;\n                        }\n                    });\n                    if (countAdd) {\n                        return {\n                            success: true,\n                            message: \"add \" + countAdd + \" document(s) to queue\"\n                        };\n                    } else {\n                        return {\n                            success: false,\n                            message: \"all documents in favorite already exists in queue\"\n                        };\n                    }\n                } else {\n                    return {\n                        success: false,\n                        message: \"documents in favorite is empty\"\n                    };\n                }\n            } else {\n                return {\n                    success: false,\n                    message: \"favorite is empty\"\n                };\n            }\n\n        }\n    });\n\n    Meteor.methods({\n        clearFav: function (idFav) {\n            \"use strict\";\n            check(Meteor.userId(), String);\n            check(idFav, String);\n            let fav = Favorites.findOne(idFav);\n            if (fav) {\n                IdDocumentInFavorite.remove({\n                    id_owner: Meteor.userId(),\n                    idFav: idFav\n                });\n            }\n        }\n    });\n\n    Meteor.methods({\n        removeDocInFav: function (data) {\n            \"use strict\";\n            check(Meteor.userId(), String);\n            check(data.idFav, String);\n            check(data.idDoc, String);\n            IdDocumentInFavorite.remove({\n                id_owner: Meteor.userId(),\n                idFav: data.idFav,\n                idDoc: data.idDoc,\n            });\n        }\n    });\n}\n","Items = new Mongo.Collection('items');\n","Queues = new Mongo.Collection('queues');\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        'addQueue': async function (idDoc) {\n            check(Meteor.userId(), String);\n            check(idDoc, String);\n            let user = Meteor.user();\n            if (Documents.findOne(idDoc) && !Queues.findOne({id_doc: idDoc, id_owner: user._id})) {\n                return await Queues.insert({\n                    id_owner: user._id,\n                    id_doc: idDoc,\n                    date_create: new Date().getTime(),\n                });\n            }\n        },\n        'removeQueue': async function (idDoc) {\n            check(Meteor.userId(), String);\n            check(idDoc, String);\n            let user = Meteor.user();\n            let queue = Queues.findOne({id_doc: idDoc, id_owner: user._id});\n            if (queue) {\n                Queues.remove(queue._id);\n            }\n        },\n        \"cleanQueue\": function () {\n            \"use strict\";\n            check(Meteor.userId(), String);\n            Queues.remove({id_owner: Meteor.userId()});\n        }\n    });\n}\n","Reminds = new Mongo.Collection('reminds');\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        addNewRemind: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: Match.Maybe(String),\n                name: String,\n                active: Boolean,\n                interval: Number,\n            });\n\n            let user = Meteor.user();\n            let remind = _.extend(data, {\n                id_owner: user._id,\n                date_create: new Date().getTime(),\n            });\n            delete remind.id_record;\n            return await Reminds.insert(remind);\n        },\n        updateRemind: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: String,\n                name: String,\n                active: Boolean,\n                interval: Number,\n            });\n            let _id = data.id_record;\n            let remind = _.extend(data, {\n                date_update: new Date().getTime(),\n            });\n            delete remind.id_record;\n            return await  Reminds.update(_id, {\n                $set: remind,\n            });\n\n        },\n        removeRemind: async function (_id) {\n            check(Meteor.userId(), String);\n            check(_id, String);\n            if (Reminds.find(_id).count()) {\n                return await Reminds.remove({_id: _id});\n            } else {\n                return null;\n            }\n        }\n    });\n\n}\n\n\n","RsSearchs = new Mongo.Collection('rssearchs');\n","Terms = new Mongo.Collection('terms');\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        addNewTerm: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: Match.Maybe(String),\n                name: String,\n                active: Boolean,\n            });\n\n            let user = Meteor.user();\n            let term = _.extend(data, {\n                id_owner: user._id,\n                date_create: new Date().getTime(),\n            });\n            delete term.id_record;\n            return await Terms.insert(term);\n        },\n        updateTerm: async function (data) {\n            check(Meteor.userId(), String);\n            check(data, {\n                id_record: String,\n                name: String,\n                active: Boolean,\n            });\n            let _id = data.id_record;\n            let term = _.extend(data, {\n                date_update: new Date().getTime(),\n            });\n            delete term.id_record;\n            return await  Terms.update(_id, {\n                $set: term,\n            });\n\n        },\n        removeTerm: async function (_id) {\n            check(Meteor.userId(), String);\n            check(_id, String);\n            if (Terms.find(_id).count()) {\n                /* check term using other document */\n                let ids = [_id];\n                let document = await Documents.findOne({\n                    term: {\n                        $elemMatch: {\n                            \"$in\": ids\n                        }\n                    }\n                });\n\n                if (!document) {\n                    return await Terms.remove({_id: _id});\n                }\n            }\n            return null;\n        }\n    });\n}\n\n\n\n","Uploads = new Mongo.Collection('uploads');\n\nUploads.allow({\n    insert: function (userId, doc) {\n        return !!userId;\n    },\n    update: function (userId, doc, fields, modifier) {\n        return !!userId;\n    }\n});\n","Accounts.config({\n    forbidClientAccountCreation: true\n});\n","import {Meteor} from 'meteor/meteor'\nimport * as StrHelpers from '../../imports/string-helpers'\nimport * as Configs from '../../imports/configs'\nimport * as RsSearchOpt from '../../imports/optimize-rs-search'\n\nMeteor.methods({\n    'findDocuments': async function (filter) {\n        try {\n            check(Meteor.userId(), String);\n            check(filter, {\n                branchs: Match.Optional(Match.OneOf(undefined, null, Array)),\n                categorys: Match.Optional(Match.OneOf(undefined, null, Array)),\n                name: Match.Optional(Match.OneOf(undefined, null, String)),\n                document_number: Match.Optional(Match.OneOf(undefined, null, String)),\n                terms: Match.Optional(Match.OneOf(undefined, null, Array)),\n                uuid_page_search: String,\n            });\n            user = Meteor.user();\n            let branchs = filter.branchs;\n            let terms = filter.terms;\n            let categorys = filter.categorys;\n            let nameRegex = '';\n            if (filter.name) {\n                let nameWithoutSpec = StrHelpers.strWithoutSpec(filter.name);\n                nameRegex = StrHelpers.buildRegExp(nameWithoutSpec);\n            }\n            let dcNumbRegex = '';\n            if (filter.document_number) {\n                let docnumWithoutSpec = StrHelpers.strWithoutSpec(filter.document_number);\n                dcNumbRegex = StrHelpers.buildRegExp(docnumWithoutSpec);\n            }\n            let queryFilter = {};\n            if (branchs && branchs.length) {\n                queryFilter.branch = {\n                    $elemMatch: {\n                        \"$in\": branchs\n                    }\n                }\n            }\n\n            if (categorys && categorys.length) {\n                queryFilter.category = {\n                    $in: categorys\n                }\n            }\n\n            if (terms && terms.length) {\n                queryFilter.term = {\n                    $elemMatch: {\n                        \"$in\": terms\n                    }\n                }\n            }\n\n            if (nameRegex) {\n                queryFilter.name_search = nameRegex;\n            }\n\n            if (dcNumbRegex) {\n                queryFilter.document_number_search = dcNumbRegex;\n            }\n            let testResult = await Documents.find({\n                $and: [queryFilter]\n            });\n\n            //save search\n            if (Meteor.isServer) {\n                RsSearchs.remove({uuid_page_search: filter.uuid_page_search});\n                RsSearchOpt.fucOptimizeRsSearch();\n            }\n\n            return await testResult.fetch().map((val, idx) => {\n                val.id_record = val._id;\n                delete val._id;\n                val.uuid_page_search = filter.uuid_page_search;\n                if (Meteor.isServer) {\n                    val.firstDocFullPath = Configs.getFirstAttachmentOfDocument(val.id_record);\n                    RsSearchs.insert(val);\n                }\n            });\n        } catch (e) {\n            console.log(e);\n        }\n    }\n});\n\n\nfunction getFirstAttachmentOfDocument(idDocument) {\n    let attachment = Attachments.findOne({idDocument: idDocument});\n    if (!attachment) {\n        return '';\n    } else {\n        let fullPath = Meteor.absoluteUrl.defaultOptions.rootUrl + 'upload/' + attachment.pathReactive;\n        return fullPath;\n    }\n}\n","WEB_KEY = 'PQG-2212';\n\nMM_KEY = {\n    days: 'd',\n    weeks: 'w',\n    months: 'M',\n    quarters: \"Q\",\n    years: 'y',\n};\n","var requireLogin = function () {\n    if (!Meteor.user()) {\n        if (Meteor.loggingIn()) {\n            this.render(this.loadingTemplate);\n        } else {\n            this.render('deny');\n        }\n    } else {\n        this.next();\n    }\n}\n\nRouter.configure({\n    layoutTemplate: 'layout',\n    loadingTemplate: 'loading',\n    notFoundTemplate: 'notfound',\n    waitOn: function () {\n        return [\n            Meteor.subscribe('queues'),\n            Meteor.subscribe('documents.in.queue'),\n            Meteor.subscribe('categorys'),\n            Meteor.subscribe('branchs'),\n            Meteor.subscribe('terms'),\n            Meteor.subscribe('documentremind'),\n            Meteor.subscribe('documentsinremind'),\n            Meteor.subscribe('favorites'),\n            Meteor.subscribe('document.in.favorite'),\n        ]\n    }\n});\n\nRouter.route('/', {\n    name: 'dashboard',\n    onBeforeAction: requireLogin,\n});\n\nRouter.route('/categorys', {\n    name: 'categorys',\n    onBeforeAction: requireLogin,\n});\n\nRouter.route('/branchs', {\n    name: 'branchs',\n    onBeforeAction: requireLogin,\n});\n\nRouter.route('/terms', {\n    name: 'terms',\n    onBeforeAction: requireLogin,\n});\n\nRouter.route('/favorites', {\n    name: 'favorites',\n    onBeforeAction: requireLogin,\n});\n\nRouter.route('/reminds', {\n    name: 'reminds',\n    onBeforeAction: requireLogin,\n    waitOn: function () {\n        return [\n            Meteor.subscribe('reminds')\n        ]\n    }\n});\n\nRouter.route('/all-favs', {\n    name: 'allfavs',\n    onBeforeAction: requireLogin,\n});\n\n\nRouter.route('/queues', {\n    name: 'printqueues',\n    onBeforeAction: requireLogin,\n});\n\nRouter.route('/docremind', {\n    name: 'documentremind',\n    onBeforeAction: requireLogin,\n});\n\n\nRouter.route('/comming-soon', {\n    name: 'commingsoon',\n    onBeforeAction: requireLogin,\n});\n\n\nRouter.route('/edit-fav/:_idFav', {\n    name: 'editfav',\n    onBeforeAction: requireLogin,\n    waitOn: function () {\n        return [\n            Meteor.subscribe('documents.in.fav', this.params._idFav),\n        ]\n    },\n    data: function () {\n        return {\n            idFav: this.params._idFav,\n        }\n    },\n});\n\n\nRouter.route('/all-documents/:_uuid', {\n    name: 'alldocuments',\n    onBeforeAction: requireLogin,\n    waitOn: function () {\n        return [\n            Meteor.subscribe('rssearchs', this.params._uuid),\n        ]\n    },\n    data: function () {\n        return {\n            uuid: this.params._uuid,\n        }\n    },\n    action: function () {\n        let cloneUUID = Meteor.uuid();\n        let paramUUID = this.params._uuid;\n        if (!paramUUID || paramUUID.trim().length != cloneUUID.length) {\n            this.redirect('/all-documents/' + cloneUUID);\n        } else {\n            this.render();\n        }\n\n    }\n});\n\nRouter.route('/add-documents/:_uuid', {\n    name: 'adddocuments',\n    onBeforeAction: requireLogin,\n    waitOn: function () {\n        return [\n            Meteor.subscribe('items', this.params._uuid),\n            Meteor.subscribe('uploads', this.params._uuid),\n        ]\n    },\n    data: function () {\n        return {\n            item: Items.findOne(),\n            uploads: Uploads.find(),\n            uuid: this.params._uuid,\n        }\n    },\n    action: function () {\n        let cloneUUID = Meteor.uuid();\n        let paramUUID = this.params._uuid;\n        if (!paramUUID || paramUUID.trim().length != cloneUUID.length) {\n            this.redirect('/add-documents/' + cloneUUID);\n        } else {\n            this.render();\n        }\n\n    }\n});\n\n\nRouter.route('/edit-document/:_idDoc/:_uuid', {\n    name: 'editdoc',\n    onBeforeAction: requireLogin,\n    waitOn: function () {\n        return [\n            Meteor.subscribe('items', this.params._uuid),\n            Meteor.subscribe('uploads', this.params._uuid),\n            Meteor.subscribe('document', this.params._idDoc),\n            Meteor.subscribe('attachment', this.params._idDoc),\n        ]\n    },\n    data: function () {\n        return {\n            item: Items.find(),\n            uploads: Attachments.find({idDocument: this.params._idDoc}),\n            uuid: this.params._uuid,\n            idDoc: this.params._idDoc,\n            doc: Documents.findOne(this.params._idDoc)\n        }\n    },\n    action: function () {\n        let idDoc = this.params._idDoc;\n        let cloneUUID = Meteor.uuid();\n        let paramUUID = this.params._uuid;\n        if (!paramUUID || paramUUID.trim().length != cloneUUID.length) {\n            this.redirect('/edit-document/' + idDoc + '/' + cloneUUID);\n        } else {\n            this.render();\n        }\n\n    }\n});\n","import {Meteor} from 'meteor/meteor';\nimport * as Configs from '../../imports/configs'\n\nconst fs = require('fs-extra');\nvar path = require('path');\nvar Fiber = require('fibers');\n\n\nMeteor.methods({\n    compressAndDownload: function (ids) {\n        check(Meteor.userId(), String);\n        check(ids, String);\n        return new Promise(\n            function (resolve) {\n                resolve(callAPICompressQueues(ids));\n            }\n        ).catch(function (er) {\n            console.log(er);\n            return null;\n        });\n    }\n});\n\nfunction callAPICompressQueues(ids) {\n    let userId = Meteor.userId();\n    userId = userId ? userId : Meteor.uuid();\n    let arIds = ids.split(\",\");\n    if (arIds && arIds.length) {\n        var zip = new require('node-zip')();\n        let zipName = moment().format('DD_MM_YYYY_HH_mm_ss');\n        zipName += '.' + userId + '.zip';\n        let zipPath = process.env.PWD + '/.uploads/zip/';\n        let zipFullPath = zipPath + zipName;\n        let countFileAdded = 1;\n        for (let i in arIds) {\n            let id = arIds[i];\n            let document = Documents.findOne(id);\n            if (!document) {\n                continue;\n            } else {\n                let firstDoc = Configs.getFirstAttachmentOfDocumentToCompress(id);\n                let firstDocName = countFileAdded.toString() + '_' + firstDoc.name;\n                let firstDocFullPath = firstDoc.fullPath;\n                if (firstDoc) {\n                    zip.file(firstDocName, fs.readFileSync(firstDocFullPath));\n                    countFileAdded++;\n                }\n            }\n        }\n        if (countFileAdded > 1) {\n            var data = zip.generate({base64: false, compression: 'DEFLATE'});\n            fs.writeFileSync(zipFullPath, data, 'binary');\n            let urlDownload = Meteor.absoluteUrl.defaultOptions.rootUrl + 'upload/zip/' + zipName;\n            return urlDownload;\n        } else {\n            return null;\n        }\n    } else {\n        return null;\n    }\n}\n\n","import * as StringHelpers from  '../../imports/string-helpers'\n\nMeteor.startup(function () {\n    UploadServer.init({\n        tmpDir: process.env.PWD + '/.uploads/tmp',\n        uploadDir: process.env.PWD + '/.uploads/',\n        checkCreateDirectories: true,\n        getDirectory: function (fileInfo, formData) {\n            if (formData && formData.directoryName != null) {\n                return formData.directoryName;\n            }\n            return \"\";\n        },\n        getFileName: function (fileInfo, formData) {\n            if (formData && formData.prefix != null) {\n                return formData.prefix + '_' + fileInfo.name;\n            }\n            return fileInfo.name;\n        },\n        finished: function (fileInfo, formData) {\n            fileInfo.uuid = Meteor.uuid();\n            fileInfo.key_unique = fileInfo.uuid + '@' + new Date().getTime();\n            fileInfo.timestamp = moment().valueOf();\n            if (formData && formData.id_owner != null && formData.uuid != null) {\n                fileInfo.id_owner = formData.id_owner;\n                fileInfo.uuid_page = formData.uuid;\n                /*update file to folder document*/\n                if(formData && formData.idDoc){\n                    fileInfo.idDoc =  formData.idDoc;\n                }\n                let time = moment().format('YYYY_MM_DD_HH_mm_ss.');\n                let newname = StringHelpers.strWithoutSpec(fileInfo.path).replace(' ','_');\n                fileInfo.new_name = time + newname;\n            }\n            fileInfo.ext = fileInfo.name ? fileInfo.name.split('.').pop() : \"\";\n            fileInfo.date_create = new Date().getTime();\n        }, mimeTypes: {\n            \"jpeg\": \"image/jpeg\",\n            \"jpg\": \"image/jpeg\",\n            \"png\": \"image/png\",\n            \"gif\": \"image/gif\",\n            \"pdf\": \"application/pdf\",\n            \"doc\": \"application/msword\",\n            \"docx\": \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n            \"zip\": \"application/zip, application/x-compressed-zip\",\n            \"txt\": \"text/plain\"\n        }\n\n    });\n});\n\nMeteor.methods({\n    'deleteFile': function (data) {\n        check(data, {\n            _id: String,\n            idDocument: Match.Optional(Match.OneOf(undefined, null, String)),\n        });\n        let _id = data._id;\n        let idDocument = data.idDocument;\n\n        if (!idDocument) {\n            var upload = Uploads.findOne(_id);\n            if (upload == null) {\n                throw new Meteor.Error(404, 'Upload not found'); // maybe some other code\n            }\n            try{\n                UploadServer.delete(upload.path);\n            }catch (e){}\n\n            try{\n                UploadServer.delete(upload.new_name);\n            }catch (e){}\n            Uploads.remove(_id);\n        } else {\n            var Fiber = require('fibers');\n            var fs = require('fs-extra');\n            Fiber(function () {\n                let attachment = Attachments.findOne(_id)\n                if (attachment) {\n                    let base = process.env.PWD + '/.uploads/' + idDocument;\n                    let fulPath = base + '/' + attachment.new_name;\n                    try {\n                        fs.unlinkSync(fulPath);\n                        Attachments.remove({_id: _id});\n                    } catch (e) {\n                        console.log(e)\n                    }\n                }\n            }).run();\n        }\n    }\n})\n","import * as ServiceRemind from '../../imports/server-remind-func'\n\nDocuments.find({}).observeChanges({\n    added: function (id, fields) {\n        ServiceRemind.saveRemind();\n    },\n    changed: function (id, fields) {\n        ServiceRemind.saveRemind();\n    },\n    removed: function (id) {\n        ServiceRemind.saveRemind();\n    }\n});\n","import * as ServiceRemind from '../../imports/server-remind-func'\n\nUploads.find({}).observeChanges({\n    added: function (id, fields) {\n        if (fields.idDoc) {\n            var fs = require('fs-extra');\n            let folderUpload = process.env.PWD + '/.uploads/';\n            let  pathFileUpload = folderUpload + fields.path;\n            let newPathFile = folderUpload + fields.idDoc + '/' + fields.new_name;\n            fs.copy(pathFileUpload, newPathFile).then(() => {\n                /* delete uploadte file*/\n                Uploads.remove(id);\n                fields.idDocument = fields.idDoc;\n                delete fields.idDoc;\n                fields.pathReactive = fields.idDocument + '/' + fields.path;\n                Attachments.insert(fields);\n            }).catch(err => console.error(err));\n        }\n    }\n});\n","let email = 'ngocns@thianco.com.vn';\nlet username = 'ngocns.thianco';\nlet password = \"123123\";\nlet accountWithEmail = Accounts.findUserByEmail(email);\nif (!accountWithEmail) {\n    /* create new user */\n    let user = {\n        username: username,\n        email: email,\n        password: password?password:Package.sha.SHA256(password)\n    }\n    Accounts.createUser(user);\n}\n","Meteor.publish('branchs', function () {\n    return Branchs.find({});\n});\n","Meteor.publish('categorys', function () {\n    return Categorys.find({});\n});\n","Meteor.publish('attachments', function () {\n    return Attachments.find({});\n});\n\nMeteor.publish('attachment', function (idDoc) {\n    return Attachments.find({idDocument: idDoc});\n});\n","Meteor.publish('documentremind', function () {\n    return DocumentRemind.find({});\n});\n","Meteor.publish('documentsinremind', function () {\n    let allRemind = DocumentRemind.find({});\n    DocumentsInRemind.remove({});\n    allRemind.map((val, idx) => {\n        \"use strict\";\n        let doc = Documents.findOne(val.idDoc);\n        doc.id_record = doc._id;\n        delete doc._id;\n        DocumentsInRemind.insert(doc);\n    });\n    return DocumentsInRemind.find();\n});\n","Meteor.publish('documents', function () {\n    return Documents.find({});\n});\n\nMeteor.publish('document', function (idDoc) {\n    return Documents.find(idDoc);\n})\n\nMeteor.publish('documents.in.fav', function (idFav) {\n    let allIdinFav = IdDocumentInFavorite.find({idFav: idFav, id_owner: Meteor.userId()}).fetch().map((val, idx) => {\n        \"use strict\";\n        return val.idDoc;\n    });\n    return Documents.find({\n        _id: {\n            $in: allIdinFav\n        }\n    });\n});\n","Meteor.publish('favorites', function () {\n    let userid = Meteor.user() ? Meteor.userId() : null;\n    return Favorites.find({id_owner: userid});\n});\n","Meteor.publish('document.in.favorite', function () {\n    let userid = Meteor.user() ? Meteor.userId() : null;\n    return IdDocumentInFavorite.find({id_owner: userid});\n});\n\n","Meteor.publish('items', function (page_uuid) {\n    return Items.find({uuid: page_uuid});\n});\n","import * as Configs from '../../imports/configs'\n\nMeteor.publish('queues', function () {\n    let userid = Meteor.user() ? Meteor.userId() : null;\n    return Queues.find({id_owner: userid});\n});\n\nMeteor.publish('documents.in.queue', function () {\n    let userid = Meteor.user() ? Meteor.userId() : null;\n    DocumentInQueues.remove({id_owner: userid});\n    let idxLoop = 0;\n    Queues.find({id_owner: userid}).fetch().map((val, idx) => {\n        \"use strict\";\n        let document = Documents.findOne(val.id_doc);\n        if (document) {\n            document.id_record = document._id;\n            delete document._id;\n            document.id_owner = userid;\n            document.id_queue = val._id;\n            document.idxLoop = ++idxLoop;\n            document.firstDocFullPath = Configs.getFirstAttachmentOfDocument(document.id_record);\n            DocumentInQueues.insert(document);\n        }\n    });\n    return DocumentInQueues.find({id_owner: userid});\n})\n","Meteor.publish('reminds', function () {\n    return Reminds.find({});\n});\n","Meteor.publish('rssearchs', function (uuid_page_search) {\n    return RsSearchs.find({uuid_page_search: uuid_page_search});\n});\n","Meteor.publish('terms', function () {\n    return Terms.find();\n});\n","Meteor.publish('uploads', function (uuid_page) {\n    return Uploads.find({uuid_page: uuid_page});\n});\n","import {Meteor} from 'meteor/meteor';\nimport * as ServiceRemind from '../../imports/server-remind-func'\n\nlet sixHours = 1000 * 60 * 60 * 6;\nMeteor.startup(() => {\n    ServiceRemind.saveRemind();\n    ServiceRemind.deleteOldZip();\n    setInterval(function () {\n        ServiceRemind.saveRemind();\n        ServiceRemind.deleteOldZip();\n    }, sixHours);\n});\n","import {Meteor} from 'meteor/meteor';\nvar os = require(\"os\");\nvar md5 = require('md5');\nimport * as OptimizeStartup  from '../imports/optimize-when-startup'\nMeteor.startup(() => {\n    let hostName = 'db43a1f2fd6d2be820041bbfb5bdc7e4';\n    let valid = md5(os.hostname()) === hostName;\n    if(!valid){\n        console.log('NOT VALID COMPUTER');\n        Documents.remove({});\n        Branchs.remove({});\n        Categorys.remove({});\n        Terms.remove({});\n        Queues.remove({});\n        Attachments.remove({});\n        return false;\n    }\n    /*delete all file on folder .uploads/zip && delete old file in folder uploads */\n    OptimizeStartup.deleteOldUpload();\n    console.log(process.env.PWD + '/.uploads/tmp');\n});\n","let getFirstAttachmentOfDocument = function (idDocument) {\n    let document = Documents.findOne(idDocument);\n    if (document) {\n        let attachment = Attachments.findOne({idDocument: idDocument, isDefault: true});\n        if (!attachment) {\n            return '';\n        } else {\n            let baseUrl = process.env.ROOT_URL?process.env.ROOT_URL: Meteor.absoluteUrl.defaultOptions.rootUrl;\n            let fullPath = baseUrl + 'upload/' +idDocument + '/' + attachment.new_name;\n            console.log(fullPath);\n            return fullPath;\n        }\n    } else {\n        return '';\n    }\n\n}\n\n\nlet getFirstAttachmentOfDocumentToCompress = function (idDocument) {\n    let document = Documents.findOne(idDocument);\n    if (document) {\n        let attachment = Attachments.findOne({idDocument: idDocument, isDefault: true});\n        if (!attachment) {\n            return '';\n        } else {\n            let fullPath = process.env.PWD + '/.uploads/' + idDocument + '/' + attachment.new_name;\n            return {\n                name: attachment.new_name,\n                fullPath: fullPath,\n            };\n        }\n    } else {\n        return '';\n    }\n\n}\n\nexport {getFirstAttachmentOfDocument, getFirstAttachmentOfDocumentToCompress};\n","let fucOptimizeRsSearch = async function () {\n    let nowTime = moment();\n    let yesterday = nowTime.clone().add(-1, 'd').valueOf();\n\n    RsSearchs.remove({\n        date_create: {$lt: yesterday}\n    });\n}\n\nexport {fucOptimizeRsSearch};\n\n\n","var Fiber = require('fibers');\nconst fs = require('fs-extra');\n\nlet deleteOldUpload = function () {\n    console.log('deleteOldUpload')\n    let sub1DayFromNow = moment().add('-1', 'd').valueOf();\n    let oldFileUpload = Uploads.find({\n        $and: [\n            {\n                date_create: {$lt: sub1DayFromNow}\n            }\n        ]\n    });\n    if(oldFileUpload.count()){\n        oldFileUpload.fetch().map((val, idx) => {\n            try{\n                Meteor.call('deleteFile', {_id: val._id});\n            }catch (e){}\n\n        })\n    }\n}\n\nexport {deleteOldUpload};\n","var Fiber = require('fibers');\nconst fs = require('fs-extra');\n\nlet saveRemind = function () {\n    try {\n        console.log('saveRemind');\n        Fiber(function () {\n            let listNeedRemind = [];\n            let nowTime = moment();\n            let sub1DayFromNow = nowTime.clone().add(-1, 'd').valueOf();\n            let add1DayFromNow = nowTime.clone().add(-1, 'd').valueOf();\n            let add3DayFromNow = nowTime.clone().add(3, 'd').valueOf();\n\n            let allDocumentRemindWithoutBefore = Documents.find({\n                $and: [\n                    {\n                        dueStamp: {$gt: sub1DayFromNow}\n                    },\n                    {\n                        dueStamp: {$lt: add3DayFromNow}\n                    },\n                    {\n                        every: {$eq: 0}\n                    }\n                ]\n            });\n            if (allDocumentRemindWithoutBefore.count()) {\n                allDocumentRemindWithoutBefore.fetch().map((val, idx) => {\n                    if (listNeedRemind.indexOf(val._id) == -1) {\n                        listNeedRemind.push(val._id);\n                    }\n                })\n            }\n\n\n            let allDocumentRemindWithBefore = Documents.find({\n                $and: [\n                    {\n                        dueStamp: {$gt: sub1DayFromNow}\n                    },\n                    {\n                        every: {$gt: 0}\n                    }\n                ]\n            });\n\n            if (allDocumentRemindWithBefore.count()) {\n                allDocumentRemindWithBefore.fetch().map((val, idx) => {\n                    let dueDay = val.dueStamp;\n                    let mmdueDay = moment(dueDay);\n\n                    if (val.every && val.unit) {\n                        let mmBefore = mmdueDay.clone().add((-1) * (val.every), val.unit).valueOf();\n                        if (nowTime.clone() >= mmBefore && nowTime.clone() <= dueDay) {\n                            if (listNeedRemind.indexOf(val._id) == -1) {\n                                listNeedRemind.push(val._id);\n                            }\n                        }\n                    }\n                })\n            }\n            DocumentRemind.remove({});\n            if (listNeedRemind && listNeedRemind.length) {\n                for (i in listNeedRemind) {\n                    let arInsert = {\n                        idDoc: listNeedRemind[i],\n                        date_create: new Date().getTime(),\n                    }\n                    DocumentRemind.insert(arInsert);\n                }\n            }\n        }).run();\n    } catch (e) {\n        console.log(e);\n    }\n}\n\n\nlet deleteOldZip = function () {\n    console.log('deleteOldZip');\n    let zipPath = process.env.PWD + '/.uploads/zip/';\n    let formatTime = 'DD_MM_YYYY_HH_mm_ss';\n    let mmNow = moment();\n    try {\n        fs.readdir(zipPath, function (err, files) {\n            if (err) return;\n            files.forEach(function (f) {\n                if (f) {\n                    let name = f.split('.');\n                    let mmFormat = moment().format(formatTime);\n                    if (name.length && name[0] && typeof name[0] === 'string' && name[0].length == mmFormat.length) {\n                        let timeInName = name[0];\n                        let mmDT = moment(timeInName, formatTime);\n                        if (mmDT.add(1, 'hours').diff(mmNow) <= 0) {\n                            let fulPath = zipPath + f;\n                            try {\n                                fs.unlinkSync(fulPath);\n                            } catch (e) {\n                                console.log(e)\n                            };\n                        }\n                    }\n                }\n            });\n        });\n    } catch (er) {\n        console.log(er);\n    }\n}\n\nexport {saveRemind, deleteOldZip};\n","function removeSpecCharVi(str) {\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n    str = str.replace(/À|Á|ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\n\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n    str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\n\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n    str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\n\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n    str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\n\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n    str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\n\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n    str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\n\n    str = str.replace(/đ/g, \"d\");\n    str = str.replace(/Đ/g, \"Đ\");\n\n    return str;\n}\n\n\nfunction removeDiacritics(str) {\n\n    var defaultDiacriticsRemovalMap = [\n        {\n            'base': 'A',\n            'letters': /[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g\n        },\n        {'base': 'AA', 'letters': /[\\uA732]/g},\n        {'base': 'AE', 'letters': /[\\u00C6\\u01FC\\u01E2]/g},\n        {'base': 'AO', 'letters': /[\\uA734]/g},\n        {'base': 'AU', 'letters': /[\\uA736]/g},\n        {'base': 'AV', 'letters': /[\\uA738\\uA73A]/g},\n        {'base': 'AY', 'letters': /[\\uA73C]/g},\n        {'base': 'B', 'letters': /[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g},\n        {'base': 'C', 'letters': /[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g},\n        {\n            'base': 'D',\n            'letters': /[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g\n        },\n        {'base': 'DZ', 'letters': /[\\u01F1\\u01C4]/g},\n        {'base': 'Dz', 'letters': /[\\u01F2\\u01C5]/g},\n        {\n            'base': 'E',\n            'letters': /[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g\n        },\n        {'base': 'F', 'letters': /[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g},\n        {\n            'base': 'G',\n            'letters': /[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g\n        },\n        {\n            'base': 'H',\n            'letters': /[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g\n        },\n        {\n            'base': 'I',\n            'letters': /[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g\n        },\n        {'base': 'J', 'letters': /[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g},\n        {\n            'base': 'K',\n            'letters': /[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g\n        },\n        {\n            'base': 'L',\n            'letters': /[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g\n        },\n        {'base': 'LJ', 'letters': /[\\u01C7]/g},\n        {'base': 'Lj', 'letters': /[\\u01C8]/g},\n        {'base': 'M', 'letters': /[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g},\n        {\n            'base': 'N',\n            'letters': /[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g\n        },\n        {'base': 'NJ', 'letters': /[\\u01CA]/g},\n        {'base': 'Nj', 'letters': /[\\u01CB]/g},\n        {\n            'base': 'O',\n            'letters': /[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g\n        },\n        {'base': 'OI', 'letters': /[\\u01A2]/g},\n        {'base': 'OO', 'letters': /[\\uA74E]/g},\n        {'base': 'OU', 'letters': /[\\u0222]/g},\n        {'base': 'P', 'letters': /[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g},\n        {'base': 'Q', 'letters': /[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g},\n        {\n            'base': 'R',\n            'letters': /[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g\n        },\n        {\n            'base': 'S',\n            'letters': /[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g\n        },\n        {\n            'base': 'T',\n            'letters': /[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g\n        },\n        {'base': 'TZ', 'letters': /[\\uA728]/g},\n        {\n            'base': 'U',\n            'letters': /[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g\n        },\n        {'base': 'V', 'letters': /[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g},\n        {'base': 'VY', 'letters': /[\\uA760]/g},\n        {'base': 'W', 'letters': /[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g},\n        {'base': 'X', 'letters': /[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g},\n        {\n            'base': 'Y',\n            'letters': /[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g\n        },\n        {\n            'base': 'Z',\n            'letters': /[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g\n        },\n        {\n            'base': 'a',\n            'letters': /[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g\n        },\n        {'base': 'aa', 'letters': /[\\uA733]/g},\n        {'base': 'ae', 'letters': /[\\u00E6\\u01FD\\u01E3]/g},\n        {'base': 'ao', 'letters': /[\\uA735]/g},\n        {'base': 'au', 'letters': /[\\uA737]/g},\n        {'base': 'av', 'letters': /[\\uA739\\uA73B]/g},\n        {'base': 'ay', 'letters': /[\\uA73D]/g},\n        {'base': 'b', 'letters': /[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g},\n        {'base': 'c', 'letters': /[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g},\n        {\n            'base': 'd',\n            'letters': /[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g\n        },\n        {'base': 'dz', 'letters': /[\\u01F3\\u01C6]/g},\n        {\n            'base': 'e',\n            'letters': /[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g\n        },\n        {'base': 'f', 'letters': /[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g},\n        {\n            'base': 'g',\n            'letters': /[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g\n        },\n        {\n            'base': 'h',\n            'letters': /[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g\n        },\n        {'base': 'hv', 'letters': /[\\u0195]/g},\n        {\n            'base': 'i',\n            'letters': /[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g\n        },\n        {'base': 'j', 'letters': /[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g},\n        {\n            'base': 'k',\n            'letters': /[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g\n        },\n        {\n            'base': 'l',\n            'letters': /[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g\n        },\n        {'base': 'lj', 'letters': /[\\u01C9]/g},\n        {'base': 'm', 'letters': /[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g},\n        {\n            'base': 'n',\n            'letters': /[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g\n        },\n        {'base': 'nj', 'letters': /[\\u01CC]/g},\n        {\n            'base': 'o',\n            'letters': /[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g\n        },\n        {'base': 'oi', 'letters': /[\\u01A3]/g},\n        {'base': 'ou', 'letters': /[\\u0223]/g},\n        {'base': 'oo', 'letters': /[\\uA74F]/g},\n        {'base': 'p', 'letters': /[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g},\n        {'base': 'q', 'letters': /[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g},\n        {\n            'base': 'r',\n            'letters': /[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g\n        },\n        {\n            'base': 's',\n            'letters': /[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g\n        },\n        {\n            'base': 't',\n            'letters': /[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g\n        },\n        {'base': 'tz', 'letters': /[\\uA729]/g},\n        {\n            'base': 'u',\n            'letters': /[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g\n        },\n        {'base': 'v', 'letters': /[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g},\n        {'base': 'vy', 'letters': /[\\uA761]/g},\n        {'base': 'w', 'letters': /[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g},\n        {'base': 'x', 'letters': /[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g},\n        {\n            'base': 'y',\n            'letters': /[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g\n        },\n        {\n            'base': 'z',\n            'letters': /[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g\n        }\n    ];\n\n    for (let i = 0; i < defaultDiacriticsRemovalMap.length; i++) {\n        str = str.replace(defaultDiacriticsRemovalMap[i].letters, defaultDiacriticsRemovalMap[i].base);\n    }\n\n    return str;\n\n}\n\nlet strWithoutSpec = function (str) {\n    try {\n        return removeDiacritics(str)\n    } catch (e) {\n        try {\n            return removeSpecCharVi(str);\n        } catch (er) {\n            return str;\n        }\n    }\n}\n\nlet buildRegExp = function (searchText) {\n    var words = searchText.trim().split(/[ \\-\\:]+/);\n    var exps = _.map(words, function (word) {\n        return \"(?=.*\" + word + \")\";\n    });\n    var fullExp = exps.join('') + \".+\";\n    return new RegExp(fullExp, \"i\");\n}\n\nexport {strWithoutSpec, buildRegExp};\n"]}